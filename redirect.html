
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Auto Redirect</title>
</head>
<body>
<script>
(async () => {
    const params = new URLSearchParams(window.location.search);
    const apiUrl = decodeURIComponent(params.get("url") || "");

    if (!apiUrl) {
        document.body.innerHTML = "<h3>Missing ?url= parameter.</h3>";
        return;
    }

    try {
        const response = await fetch(apiUrl);
        const data = await response.json();
        const target = data?.result?.url;

        if (target) {
            window.location.href = target;
        } else {
            document.body.innerHTML = "<h3>No 'result.url' field found.</h3>";
        }

    } catch (err) {
        document.body.innerHTML = `<h3>Error: ${err}</h3>`;
    }
})();
</script>
</body>
</html>
